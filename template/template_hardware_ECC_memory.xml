<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>4.4</version>
    <date>2020-03-03T10:05:30Z</date>
    <groups>
        <group>
            <name>Templates/Hardware</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>template_hardware_ECC_memory</template>
            <name>template_hardware_ECC_memory</name>
            <groups>
                <group>
                    <name>Templates/Hardware</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>ecc-memory</name>
                </application>
            </applications>
            <discovery_rules>
                <discovery_rule>
                    <name>ECC chip select row</name>
                    <key>discovery.ecc-memory[csrow]</key>
                    <delay>1h</delay>
                    <lifetime>1d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>ECC {#DEVICE.NAME} Correctable Errors</name>
                            <type>DEPENDENT</type>
                            <key>ecc-memory.csrow.CorrectableErrors[{#DEVICE.NAME}]</key>
                            <delay>0</delay>
                            <applications>
                                <application>
                                    <name>ecc-memory</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.[&quot;CorrectableErrors&quot;]</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>ecc-memory[csrow,{#DEVICE.NAME}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{change()}&gt;0</expression>
                                    <name>ECC csrow corectable errors count increased on {#DEVICE.NAME}</name>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>ECC {#DEVICE.NAME} DeviceType</name>
                            <type>DEPENDENT</type>
                            <key>ecc-memory.csrow.DeviceType[{#DEVICE.NAME}]</key>
                            <delay>0</delay>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <applications>
                                <application>
                                    <name>ecc-memory</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.[&quot;DeviceType&quot;]</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>ecc-memory[csrow,{#DEVICE.NAME}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>ECC {#DEVICE.NAME} EdacMode</name>
                            <type>DEPENDENT</type>
                            <key>ecc-memory.csrow.EdacMode[{#DEVICE.NAME}]</key>
                            <delay>0</delay>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <applications>
                                <application>
                                    <name>ecc-memory</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.[&quot;EdacMode&quot;]</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>ecc-memory[csrow,{#DEVICE.NAME}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>ECC {#DEVICE.NAME} MemoryType</name>
                            <type>DEPENDENT</type>
                            <key>ecc-memory.csrow.MemoryType[{#DEVICE.NAME}]</key>
                            <delay>0</delay>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <applications>
                                <application>
                                    <name>ecc-memory</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.[&quot;MemoryType&quot;]</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>ecc-memory[csrow,{#DEVICE.NAME}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>ECC {#DEVICE.NAME} SizeMB</name>
                            <type>DEPENDENT</type>
                            <key>ecc-memory.csrow.SizeMB[{#DEVICE.NAME}]</key>
                            <delay>0</delay>
                            <units>M</units>
                            <applications>
                                <application>
                                    <name>ecc-memory</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.[&quot;SizeMB&quot;]</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>ecc-memory[csrow,{#DEVICE.NAME}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>ECC {#DEVICE.NAME} Uncorrectable Errors</name>
                            <type>DEPENDENT</type>
                            <key>ecc-memory.csrow.UncorrectableErrors[{#DEVICE.NAME}]</key>
                            <delay>0</delay>
                            <applications>
                                <application>
                                    <name>ecc-memory</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.[&quot;UncorrectableErrors&quot;]</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>ecc-memory[csrow,{#DEVICE.NAME}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{change()}&gt;0</expression>
                                    <name>ECC csrow corectable errors count increased on {#DEVICE.NAME}</name>
                                    <priority>INFO</priority>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>ECC chip select row {#DEVICE.NAME} data</name>
                            <key>ecc-memory[csrow,{#DEVICE.NAME}]</key>
                            <delay>10m</delay>
                            <history>0</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>ecc-memory</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
                <discovery_rule>
                    <name>ECC memory controllers</name>
                    <key>discovery.ecc-memory[mc]</key>
                    <delay>1h</delay>
                    <lifetime>1d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>ECC  {#DEVICE.NAME} Corectable no info errors Count</name>
                            <type>DEPENDENT</type>
                            <key>ecc-memory.mc.CorrectableErrorsNoinfo[{#DEVICE.NAME}]</key>
                            <delay>0</delay>
                            <applications>
                                <application>
                                    <name>ecc-memory</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.[&quot;CorrectableErrorsNoinfo&quot;]</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>ecc-memory[mc,{#DEVICE.NAME}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{change()}&gt;0</expression>
                                    <name>ECC mc corectable info errors count increased on {#DEVICE.NAME}</name>
                                    <priority>INFO</priority>
                                    <description>test triger</description>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>ECC  {#DEVICE.NAME} Corectable errors Count</name>
                            <type>DEPENDENT</type>
                            <key>ecc-memory.mc.CorrectableErrors[{#DEVICE.NAME}]</key>
                            <delay>0</delay>
                            <applications>
                                <application>
                                    <name>ecc-memory</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.[&quot;CorrectableErrors&quot;]</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>ecc-memory[mc,{#DEVICE.NAME}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{change()}&gt;0</expression>
                                    <name>ECC mc corectable errors count increased on {#DEVICE.NAME}</name>
                                    <priority>INFO</priority>
                                    <description>Memory ECC correctable errors increased.&#13;
&#13;
try run on the server:&#13;
# edac-util -v</description>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>ECC  {#DEVICE.NAME} MCName</name>
                            <type>DEPENDENT</type>
                            <key>ecc-memory.mc.MCName[{#DEVICE.NAME}]</key>
                            <delay>0</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>CHAR</value_type>
                            <applications>
                                <application>
                                    <name>ecc-memory</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.[&quot;MCName&quot;]</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>ecc-memory[mc,{#DEVICE.NAME}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>ECC  {#DEVICE.NAME} SecondsSinceReset</name>
                            <type>DEPENDENT</type>
                            <key>ecc-memory.mc.SecondsSinceReset[{#DEVICE.NAME}]</key>
                            <delay>0</delay>
                            <units>s</units>
                            <applications>
                                <application>
                                    <name>ecc-memory</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.[&quot;SecondsSinceReset&quot;]</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>ecc-memory[mc,{#DEVICE.NAME}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>ECC  {#DEVICE.NAME} SizeMB</name>
                            <type>DEPENDENT</type>
                            <key>ecc-memory.mc.SizeMB[{#DEVICE.NAME}]</key>
                            <delay>0</delay>
                            <units>M</units>
                            <applications>
                                <application>
                                    <name>ecc-memory</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.[&quot;SizeMB&quot;]</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>ecc-memory[mc,{#DEVICE.NAME}]</key>
                            </master_item>
                        </item_prototype>
                        <item_prototype>
                            <name>ECC  {#DEVICE.NAME} Uncorectable errors noinfo Count</name>
                            <type>DEPENDENT</type>
                            <key>ecc-memory.mc.UncorrectableErrorsNoinfo[{#DEVICE.NAME}]</key>
                            <delay>0</delay>
                            <applications>
                                <application>
                                    <name>ecc-memory</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.[&quot;UncorrectableErrorsNoinfo&quot;]</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>ecc-memory[mc,{#DEVICE.NAME}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{change()}&gt;0</expression>
                                    <name>ECC mc uncorectable info errors count increased on {#DEVICE.NAME}</name>
                                    <priority>INFO</priority>
                                    <description>test triger</description>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>ECC  {#DEVICE.NAME} Uncorectable errors Count</name>
                            <type>DEPENDENT</type>
                            <key>ecc-memory.mc.UncorrectableErrors[{#DEVICE.NAME}]</key>
                            <delay>0</delay>
                            <applications>
                                <application>
                                    <name>ecc-memory</name>
                                </application>
                            </applications>
                            <preprocessing>
                                <step>
                                    <type>JSONPATH</type>
                                    <params>$.[&quot;UncorrectableErrors&quot;]</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>ecc-memory[mc,{#DEVICE.NAME}]</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{change()}&gt;0</expression>
                                    <name>ECC mc uncorectable errors count increased on {#DEVICE.NAME}</name>
                                    <priority>INFO</priority>
                                    <description>Memory ECC uncorrectable errors increased.&#13;
&#13;
try run on the server:&#13;
# edac-util -v</description>
                                    <manual_close>YES</manual_close>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>ECC memory controller {#DEVICE.NAME} data</name>
                            <key>ecc-memory[mc,{#DEVICE.NAME}]</key>
                            <delay>10m</delay>
                            <history>0</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <applications>
                                <application>
                                    <name>ecc-memory</name>
                                </application>
                            </applications>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
        </template>
    </templates>
</zabbix_export>
